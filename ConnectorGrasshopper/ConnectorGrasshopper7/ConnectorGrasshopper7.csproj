<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <ProjectGuid>{B81E0F77-1ABD-4941-9D76-C0DC6B1B6B82}</ProjectGuid>
    <RootNamespace>ConnectorGrasshopper</RootNamespace>
    <AssemblyName>SpeckleConnectorGrasshopper</AssemblyName>
    <TargetFramework>net48</TargetFramework>
    <LangVersion>11</LangVersion>
    <StartAction>Program</StartAction>
    <StartProgram>C:\Program Files\Rhino 7\System\Rhino.exe</StartProgram>
    <StartArguments />
    <RhinoMacLauncher>/Applications/Rhino 7.app</RhinoMacLauncher>
    <TargetExt>.gha</TargetExt>
    <PlatformTarget>x64</PlatformTarget>
    <Configurations>Debug;Release;Debug Mac;Release Mac</Configurations>
    <GenerateResourceUsePreserializedResources>true</GenerateResourceUsePreserializedResources>
    <DefineConstants>$(DefineConstants);RHINO7</DefineConstants>
  </PropertyGroup>

  <PropertyGroup>
    <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
    <CompilerGeneratedFilesOutputPath>Generated</CompilerGeneratedFilesOutputPath>
    <GeneratedFiles>$(CompilerGeneratedFilesOutputPath)/**/*.cs</GeneratedFiles>
  </PropertyGroup>

  <ItemGroup>
    <!-- Exclude the output of source generators from the compilation -->
    <Compile Remove="$(GeneratedFiles)" />
    <None Include="$(GeneratedFiles)" />
  </ItemGroup>
  
  <PropertyGroup Condition="'$(Configuration)'=='Debug Mac'">
    <DefineConstants>$(DefineConstants);MAC</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)'=='Release Mac'">
    <DefineConstants>$(DefineConstants);MAC</DefineConstants>
  </PropertyGroup>
  
  <ItemGroup>
    <ProjectReference Include="..\..\Core\Core\Core.csproj" />
    <ProjectReference Include="..\..\Core\Transports\DiskTransport\DiskTransport.csproj" />
    <ProjectReference Include="..\ConnectorGrasshopperUtils\ConnectorGrasshopperUtils.csproj" />
    <ProjectReference Include="..\GrasshopperSchemaGenerator\GrasshopperSchemaGenerator.csproj" ReferenceOutputAssembly="false" OutputItemType="Analyzer" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="GrasshopperAsyncComponent" Version="1.2.3" />
    <PackageReference Include="RhinoCommon" Version="7.4.21078.1001" IncludeAssets="compile;build">
       <PrivateAssets>all</PrivateAssets>
    </PackageReference>
    <PackageReference Include="Grasshopper" Version="7.4.21078.1001" IncludeAssets="compile;build">
       <PrivateAssets>all</PrivateAssets>
    </PackageReference>
    <PackageReference Include="System.Resources.Extensions" Version="7.0.0" />
  </ItemGroup>
  
  <Import Project="..\ConnectorGrasshopperShared\ConnectorGrasshopperShared.projitems" Label="Shared" />

</Project>